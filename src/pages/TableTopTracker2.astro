---
import BaseLayout from '../layouts/baseLayout.astro';
import Hero from '../components/Hero/Hero.astro';
import Description from '../components/Hero/Description.astro';
import ProjectDemo from '../components/projects/projectDemo.astro';
import IframeComponent from '../components/projects/iframme.astro';
import ChallengesSection from '../components/projects/challengesSection.astro';
import ReflectionsSection from '../components/projects/reflectionsSection.astro';
import DevDiary from '../components/projects/devDiary.astro';

// Import project images
import HomeImg from '../assets/Projects/TableTopTracker2/TableTopTracker.jpg';
import LogoImg from '../assets/Projects/TableTopTracker2/Logo.jpg';
import OHomeImg from '../assets/Projects/TableTopTracker2/OHome.png';
import ONAmeImg from '../assets/Projects/TableTopTracker2/ONAme.png';
import BackGroundVideo from '../assets/Projects/TableTopTracker2/BackGround.webm';
import LightDarkVideo from '../assets/Projects/TableTopTracker2/LightDark.webm';
import LocalDemoVideo from '../assets/Projects/TableTopTracker2/LocalDemo.webm';
import ODemoVideo from '../assets/Projects/TableTopTracker2/ODemo.webm';
import ThemeChangeVideo from '../assets/Projects/TableTopTracker2/ThemeChange.webm';

const pageTitle = "TableTop Tracker 2.0";
// Define challenges data
const challenges = [
    {
        icon: "ðŸ§ ",
        title:  "A* pathfinding performance",
        description: "The A* pathfinding algorithm was causing performance issues when there were too many enemies on screen. I had to optimize the algorithm by switching to a heap rather than individual lists for open and closed nodes, which significantly improved performance. This increased my performance reducing stuttering."
    }
];

// Define lessons/reflections data  
const lessons = [
    {
        icon: "ðŸ§©",
        title: "Breaking down scripts into smaller components",
        description: "As I progressed through the project, I found my player movement script handled more than it should have like audio and collisions, I should have separated these into smaller scripts to reduce complexity."
    }
];
---
<BaseLayout pageTitle={pageTitle} backgroundVariant="game">
    <Hero 
        title="TableTop Tracker"
        subtitle="A Unity project showcasing tabletop RPG tools"
        showImage={true}
        image={HomeImg},
        altText="TableTop Tracker screenshot" 
    />
    <Description 
        description="TableTop Tracker is a Unity project designed to assist tabletop RPG players and GMs. It offers features like dynamic lighting, token management, and customizable maps. The project emphasizes optimization and user-friendly design, making it a valuable tool for enhancing tabletop gaming sessions."
        showSkills={true}
        skillsTitle="Technologies Used"
        skills={["Unity", "C#", "2D Lighting", "Tilemap", "User Interface", "Optimization", "Problem Solving", "Asset Management"]}
        id="about"
    />
    <ProjectDemo 
        id="projects"
        projectTitle='TableTop Tracker'
        itchUrl="https://ghosthi.itch.io/tabletoptracker"
        media={[{
            type: 'image',
            src: HomeImg.src,
            alt: 'TableTop Tracker home screen',
            caption: 'Home level of TableTop Tracker'
            }
        ]}
    />
    <IframeComponent 
        embedUrl="https://itch.io/embed-upload/14414939?color=333333"
        fallbackUrl="https://ghosthi.itch.io/tabletoptracker"
        title="TableTop Tracker"
        width="100%"
        height="700px"
        id="TableTopTracker-iframe"
    /> 
    <ChallengesSection challenges={challenges} />

    <ReflectionsSection 
        lessons={lessons}
        futureGoals='If I revisited this project, I would make my own assets to give it a more unique feel. I would also add more levels and powerups to make the game more engaging. Additionally, I would implement a timer to track the speed the player completes levels and displays it on the screen and add a leaderboard to enhance the competitive aspect of the game.'
    />

    <DevDiary url="https://app.affine.pro/workspace/2f1c57ac-8335-4413-94e5-a5c9f37dd436/hlVaMV6YzI" />
</BaseLayout>

